<!DOCTYPE html><html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fire Drone Coverage – ROI & Upgrade Selector</title>
<style>
  :root{--bg:#0b0f14;--card:#121923;--ink:#e8f0ff;--muted:#9fb2c8;--accent:#6ee7ff;--good:#3ee27a;--warn:#ffd166;--bad:#ff6b6b}
  *{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font:14px/1.4 system-ui,Segoe UI,Roboto,Helvetica,Arial}
  header{padding:12px 16px;background:linear-gradient(90deg,#06121e,#0b263a);border-bottom:1px solid #1d2b3a}
  .motto{font-weight:700;letter-spacing:.2px;color:var(--accent)}
  .wrap{max-width:1100px;margin:0 auto;padding:16px}
  .grid{display:grid;gap:12px}
  .two{grid-template-columns:1fr 1fr}
  .card{background:var(--card);border:1px solid #203040;border-radius:14px;padding:12px}
  h2{margin:0 0 8px 0;font-size:16px}
  h3{margin:14px 0 8px 0;font-size:14px;color:var(--muted)}
  label{display:flex;align-items:center;justify-content:space-between;gap:8px;margin:6px 0}
  input[type="number"], input[type="text"]{width:130px;background:#0e141b;color:var(--ink);border:1px solid #2a3b52;border-radius:8px;padding:6px 8px}
  input[type="checkbox"]{transform:scale(1.15)}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .btn{cursor:pointer;border:1px solid #294664;background:#0f2436;color:var(--ink);padding:10px 12px;border-radius:10px}
  .btn:hover{background:#13314a}
  .pill{display:inline-block;padding:4px 8px;border-radius:999px;background:#0e2336;color:var(--muted);border:1px solid #1d3349;margin-right:6px}
  table{width:100%;border-collapse:collapse}
  th,td{padding:8px 6px;border-bottom:1px dashed #2a3d53;text-align:right}
  th:first-child,td:first-child{text-align:left}
  .ok{color:var(--good)}.meh{color:var(--warn)}.bad{color:var(--bad)}
  small{color:var(--muted)}
</style>
</head>
<body>
  <header>
    <div class="wrap"><div class="motto">We win by helping others win.</div></div>
  </header>  <div class="wrap grid two">
    <!-- LEFT: Mission & Baseline Inputs -->
    <section class="card">
      <h2>Mission & Baseline (Phase 1)</h2>
      <h3>Coverage Target (equivalent basis)</h3>
      <label><span>Sector Area A (km²)</span><input id="A" type="number" value="400" step="1" min="1"></label>
      <label><span>Max Revisit T<sub>rev</sub> (min)</span><input id="Trev" type="number" value="5" step="1" min="1"></label><h3>Baseline Performance</h3>
  <label><span>Swath W (km)</span><input id="W0" type="number" value="1.0" step="0.1" min="0.1"></label>
  <label><span>Ground speed v (km/min)</span><input id="v0" type="number" value="1.6" step="0.1" min="0.1"></label>
  <label><span>Path efficiency η (0–1)</span><input id="eta0" type="number" value="0.80" step="0.01" min="0.3" max="1"></label>

  <h3>Baseline Costs</h3>
  <label><span>Unit purchase U<sub>0</sub> ($)</span><input id="U0" type="number" value="65000" step="1000" min="0"></label>
  <label><span>Annual ops per unit O<sub>0</sub> ($/yr)</span><input id="O0" type="number" value="12000" step="500" min="0"></label>
  <label><span>Phase‑1 R&amp;D (one‑time) R<sub>0</sub> ($)</span><input id="R0" type="number" value="150000" step="5000" min="0"></label>
</section>

<!-- RIGHT: Upgrades / Selections -->
<section class="card">
  <h2>Future Developments (Selections)</h2>
  <div class="row"><span class="pill">Choose upgrades to model</span><small>Effects are editable; numbers are placeholders.</small></div>

  <div class="card" style="margin-top:8px">
    <label><span><input id="u_varpitch" type="checkbox"> Variable‑pitch prop</span>
      <span><small>ΔUnit +$</small><input id="u_varpitch_cost" type="number" value="3500" step="100" min="0"></span>
    </label>
    <label><span>Coverage gain (%)</span><input id="u_varpitch_cov" type="number" value="10" step="1" min="0"></label>
    <label><span>Maint. impact (%)</span><input id="u_varpitch_maint" type="number" value="5" step="1" min="0"></label>
  </div>

  <div class="card" style="margin-top:8px">
    <label><span><input id="u_edf" type="checkbox"> Clip‑on dash EDF pod</span>
      <span><small>ΔUnit +$</small><input id="u_edf_cost" type="number" value="2500" step="100" min="0"></span>
    </label>
    <label><span>Coverage gain (%)</span><input id="u_edf_cov" type="number" value="12" step="1" min="0"></label>
    <label><span>Maint. impact (%)</span><input id="u_edf_maint" type="number" value="4" step="1" min="0"></label>
  </div>

  <div class="card" style="margin-top:8px">
    <label><span><input id="u_convert" type="checkbox"> Convertible prop⇄duct</span>
      <span><small>ΔUnit +$</small><input id="u_convert_cost" type="number" value="12000" step="100" min="0"></span>
    </label>
    <label><span>Coverage gain (%)</span><input id="u_convert_cov" type="number" value="25" step="1" min="0"></label>
    <label><span>Maint. impact (%)</span><input id="u_convert_maint" type="number" value="12" step="1" min="0"></label>
  </div>

  <div class="card" style="margin-top:8px">
    <label><span><input id="u_auto" type="checkbox"> Autonomous task allocation (fleet‑wide)</span>
      <span><small>Program cost +$</small><input id="u_auto_cost" type="number" value="60000" step="1000" min="0"></span>
    </label>
    <label><span>Coverage gain (%)</span><input id="u_auto_cov" type="number" value="10" step="1" min="0"></label>
    <label><span>Maint. impact (%)</span><input id="u_auto_maint" type="number" value="-5" step="1"></label>
  </div>

  <h3>Post‑Research Assumptions</h3>
  <label><span>Swath W (km) after upgrades</span><input id="W1" type="number" value="1.2" step="0.1" min="0.1"></label>
  <label><span>Ground speed v (km/min) after upgrades</span><input id="v1" type="number" value="2.0" step="0.1" min="0.1"></label>
  <label><span>Path efficiency η after upgrades</span><input id="eta1" type="number" value="0.82" step="0.01" min="0.3" max="1"></label>
  <label><span>Upgrade R&amp;D (one‑time) R<sub>1</sub> ($)</span><input id="R1" type="number" value="1000000" step="10000" min="0"></label>
  <div class="row" style="margin-top:8px"><button class="btn" id="compute">Compute</button><small>Outputs update instantly after pressing Compute.</small></div>
</section>

  </div>  <div class="wrap grid">
    <section class="card">
      <h2>Results (Equivalent Coverage)</h2>
      <div id="alerts"></div>
      <table>
        <thead>
          <tr>
            <th>Metric</th>
            <th>Baseline (Phase 1)</th>
            <th>Upgraded (Post‑Research)</th>
          </tr>
        </thead>
        <tbody id="results">
          <!-- filled by JS -->
        </tbody>
      </table>
      <small>Notes: Fleet size is the minimum integer to meet area A and revisit T<sub>rev</sub>. Year‑1 totals include one‑time R&amp;D for each phase where applicable. Cost per km²‑year uses the same A for both columns to ensure apples‑to‑apples comparison.</small>
    </section>
  </div><script>
function n(v){return Number.isFinite(v)?v:0}
function fmt(x){return x.toLocaleString(undefined,{maximumFractionDigits:2})}
function money(x){return "$"+x.toLocaleString()}

function gather(){
  const A=n(parseFloat(document.getElementById('A').value));
  const Trev=n(parseFloat(document.getElementById('Trev').value));
  const W0=n(parseFloat(document.getElementById('W0').value));
  const v0=n(parseFloat(document.getElementById('v0').value));
  const eta0=n(parseFloat(document.getElementById('eta0').value));
  const U0=n(parseFloat(document.getElementById('U0').value));
  const O0=n(parseFloat(document.getElementById('O0').value));
  const R0=n(parseFloat(document.getElementById('R0').value));

  const W1=n(parseFloat(document.getElementById('W1').value));
  const v1=n(parseFloat(document.getElementById('v1').value));
  const eta1=n(parseFloat(document.getElementById('eta1').value));
  const R1=n(parseFloat(document.getElementById('R1').value));

  // Upgrades toggles and effects
  const ups=[
    {on:document.getElementById('u_varpitch').checked, dUnit:n(parseFloat(document.getElementById('u_varpitch_cost').value)), cov:n(parseFloat(document.getElementById('u_varpitch_cov').value)), maint:n(parseFloat(document.getElementById('u_varpitch_maint').value)), kind:'perUnit'},
    {on:document.getElementById('u_edf').checked, dUnit:n(parseFloat(document.getElementById('u_edf_cost').value)), cov:n(parseFloat(document.getElementById('u_edf_cov').value)), maint:n(parseFloat(document.getElementById('u_edf_maint').value)), kind:'perUnit'},
    {on:document.getElementById('u_convert').checked, dUnit:n(parseFloat(document.getElementById('u_convert_cost').value)), cov:n(parseFloat(document.getElementById('u_convert_cov').value)), maint:n(parseFloat(document.getElementById('u_convert_maint').value)), kind:'perUnit'},
    {on:document.getElementById('u_auto').checked, dUnit:n(parseFloat(document.getElementById('u_auto_cost').value)), cov:n(parseFloat(document.getElementById('u_auto_cov').value)), maint:n(parseFloat(document.getElementById('u_auto_maint').value)), kind:'program'}
  ]

  return {A,Trev,W0,v0,eta0,U0,O0,R0,W1,v1,eta1,R1,ups}
}

function compute(){
  const d=gather();
  const C0=d.v0*d.W0*d.eta0; // km^2/min
  const N0=Math.max(1, Math.ceil(d.A/(C0*d.Trev)));
  const year1_base = d.R0 + (N0*d.U0) + (N0*d.O0);
  const costPerKm2_base = year1_base / d.A;

  // Upgrades effects
  const perUnitDelta = d.ups.filter(u=>u.on && u.kind==='perUnit').reduce((s,u)=>s+u.dUnit,0);
  const programDelta = d.ups.filter(u=>u.on && u.kind==='program').reduce((s,u)=>s+u.dUnit,0);
  const covBoostPct = d.ups.filter(u=>u.on).reduce((s,u)=>s+u.cov,0); // additive placeholder
  const maintPct = d.ups.filter(u=>u.on).reduce((s,u)=>s+u.maint,0); // additive placeholder

  const C1 = d.v1*d.W1*d.eta1 * (1 + covBoostPct/100);
  const N1 = Math.max(1, Math.ceil(d.A/(C1*d.Trev)));

  const U1 = d.U0 + perUnitDelta; // new per-unit purchase cost
  const O1_unit = d.O0 * (1 + maintPct/100);

  const year1_upg = d.R1 + programDelta + (N1*U1) + (N1*O1_unit);
  const costPerKm2_upg = year1_upg / d.A;

  const rows=[
    ['Coverage rate C (km²/min)', fmt(C0), fmt(C1)],
    ['Fleet size for equivalent coverage (N)', fmt(N0), fmt(N1)],
    ['Year‑1 total (incl. R&D)', money(Math.round(year1_base)), money(Math.round(year1_upg))],
    ['Year‑1 cost per km²‑year', money(Math.round(costPerKm2_base)), money(Math.round(costPerKm2_upg))],
    ['Per‑unit purchase', money(Math.round(d.U0)), money(Math.round(U1))],
    ['Annual ops per unit', money(Math.round(d.O0)), money(Math.round(O1_unit))],
    ['One‑time R&D (this phase)', money(Math.round(d.R0)), money(Math.round(d.R1 + programDelta))]
  ];

  const tbody=document.getElementById('results');
  tbody.innerHTML=rows.map(r=>`<tr><td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td></tr>`).join('');

  const alerts=document.getElementById('alerts');
  const delta = costPerKm2_base - costPerKm2_upg;
  alerts.innerHTML = delta>0
    ? `<div class="ok">✔ Upgraded path reduces Year‑1 cost per km² by ${money(Math.round(delta))} vs. baseline.</div>`
    : `<div class="meh">ℹ Upgraded path does not reduce Year‑1 cost per km² (difference ${money(Math.round(Math.abs(delta)))}). Savings may appear in Year‑2+ after amortization.</div>`;
}

document.getElementById('compute').addEventListener('click', compute);
// compute once with defaults
compute();
</script></body>
</html>
